<template><div><h1 id="software" tabindex="-1"><a class="header-anchor" href="#software"><span>Software</span></a></h1>
<h2 id="how-to-use-the-tra86-scripts" tabindex="-1"><a class="header-anchor" href="#how-to-use-the-tra86-scripts"><span>How to use the tra86 Scripts.</span></a></h2>
<p>As mentioned earlier, the tra86 toolchain is divided into two main parts: the Tracer and the Analyzer. In its current version, the operation for both is pretty barebones. Here's what a test run looks like.</p>
<ul>
<li>We have a C++/Rust source code file.</li>
<li>We use either clang or rustc to get the assembly output.</li>
<li>Once we have the assembly output, we assemble it into an object passing debugging flags.</li>
<li>We invoke the linker to link header files into this object, creating an executable.</li>
<li>We invoke GDB, stage this executable, and attach the Python Tracer script. The script takes over, stepping into each instruction and executing the program through GDB, and recording the relevant instruction + metadata into a new file. Once the script is attached, the process is completely automated.</li>
<li>Once the execution ends, the user can check the trace file generated. Another python script, the analyzer, can take this trace file as an input, and give relevant performance data.</li>
</ul>
<h3 id="tracer-instructions" tabindex="-1"><a class="header-anchor" href="#tracer-instructions"><span>Tracer Instructions</span></a></h3>
<p>The instructions to compile a C++ source and a RUST source differ. However, staging them on GDB and attaching the Python script is the same.</p>
<h4 id="rust-instructions" tabindex="-1"><a class="header-anchor" href="#rust-instructions"><span>RUST Instructions</span></a></h4>
<p>Assuming <code v-pre>main.rs</code> is the name of the file. Note: these set of commands only work on an x86 architecture machine.</p>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre v-pre><code><span class="line">$ rustc --target=x86_64-unknown-linux-gnu --emit=asm -o main.s main.rs</span>
<span class="line">$ as -o main.o main.s</span>
<span class="line">$ clang ~/.rustup/toolchains/*/lib/libstd-*.so  main.o -g -o test-rust</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="c-instructions" tabindex="-1"><a class="header-anchor" href="#c-instructions"><span>C++ Instructions</span></a></h4>
<p>Assuming <code v-pre>main.cpp</code> is the name of the file</p>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre v-pre><code><span class="line">$ clang++ -S -o main.s main.cpp    # Step 1: Generate assembly with debugging info</span>
<span class="line">$ clang++ -g -o test-cpp main.s           # Step 2: Assemble and link with debugging info</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>Since <code v-pre>clang++</code> is the default compiler for C++, the linking is done automatically. However, linking for RUST has to be done in an extra manual step, since <code v-pre>rustc</code> does not support intermediate compiling as described above.</p>
<p>Read this <a href="https://stackoverflow.com/questions/77568383/how-to-compile-x86-assembly-generated-via-rustc-into-an-executable" target="_blank" rel="noopener noreferrer">StackOverflow Post</a> for more insights ðŸ˜ƒ</p>
<h4 id="tracer-script-instructions" tabindex="-1"><a class="header-anchor" href="#tracer-script-instructions"><span>Tracer Script Instructions</span></a></h4>
<p>The following is the Python script for the tracer. We assume it's named <code v-pre>pygdb.py</code> for the following instructions.</p>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre v-pre><code><span class="line"><span class="token keyword">import</span> gdb</span>
<span class="line"><span class="token keyword">import</span> time</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Define the file path where you want to save the log</span></span>
<span class="line">log_file_path <span class="token operator">=</span> <span class="token string">"./gdb_asm.txt"</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Define the maximum time to wait in seconds before switching to "ni"</span></span>
<span class="line">max_stuck_time <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># Adjust this value as needed</span></span>
<span class="line"></span>
<span class="line">si <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line">max_si <span class="token operator">=</span> <span class="token number">500</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">log_asm_event</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    pc <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>gdb<span class="token punctuation">.</span>parse_and_eval<span class="token punctuation">(</span><span class="token string">"$pc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    instruction <span class="token operator">=</span> gdb<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"x/i "</span> <span class="token operator">+</span> <span class="token builtin">hex</span><span class="token punctuation">(</span>pc<span class="token punctuation">)</span><span class="token punctuation">,</span> to_string<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>log_file_path<span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> log_file<span class="token punctuation">:</span></span>
<span class="line">        log_file<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">hex</span><span class="token punctuation">(</span>pc<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>instruction<span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Connect the stop event to the log_asm_event function</span></span>
<span class="line">gdb<span class="token punctuation">.</span>events<span class="token punctuation">.</span>stop<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>log_asm_event<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Initialize timer</span></span>
<span class="line">start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Stepping through the program continuously until it terminates</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">if</span> si <span class="token operator">&lt;</span> max_si<span class="token punctuation">:</span></span>
<span class="line">        gdb<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"si"</span><span class="token punctuation">)</span></span>
<span class="line">        si <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token keyword">elif</span> start_time <span class="token operator">></span> max_stuck_time<span class="token punctuation">:</span></span>
<span class="line">        gdb<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"ni"</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Reset timer if execution is not stuck</span></span>
<span class="line">    start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    si <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.001</span><span class="token punctuation">)</span>  <span class="token comment"># Add a small delay to avoid consuming too much CPU</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once we have this in the same directory, here are the instructions.</p>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre v-pre><code><span class="line">$ gdb ./test-cpp</span>
<span class="line">(gdb)$ b main</span>
<span class="line">(gdb)$ run</span>
<span class="line">(gdb)$ source ./pygdb.py</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sometimes, if the script gets stuck, <code v-pre>si</code> can be done manually. The script will continue to record information (instructions + metadata) as you go manually.</p>
<p>The script can also be modified to only do ni (next instruction), if we do not want to trace header files/dependencies/other user files in the codebase. Or the automation can also be completely disabled, with just the functionality to record the instruction + metadata.</p>
<h3 id="analyzer-instructions" tabindex="-1"><a class="header-anchor" href="#analyzer-instructions"><span>Analyzer Instructions</span></a></h3>
<p>The analyzer is another simple Python script.</p>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre v-pre><code><span class="line"><span class="token triple-quoted-string string">'''</span>
<span class="line">x86 Assembly Tracer: Analyzation Part</span>
<span class="line">Kushagra Srivastava (https://skushagra.com)</span>
<span class="line"></span>
<span class="line">The following Python Code Analyzes the Trace Inputs</span>
<span class="line">from the PyGDB Program in this repository.</span>
<span class="line">'''</span></span>
<span class="line"><span class="token keyword">import</span> math</span>
<span class="line"><span class="token keyword">import</span> os</span>
<span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"><span class="token keyword">import</span> sys</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">clockCycles</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token comment"># https://stackoverflow.com/questions/692718/how-many-cpu-cycles-are-needed-for-each-assembly-instruction</span></span>
<span class="line">		self<span class="token punctuation">.</span>cycleHash <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token string">"mov"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"push"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pop"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cltq"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cdqe"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cwd"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cdq"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cqo"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pushf"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"popf"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movl"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"add"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"addl"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"addq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"sub"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"subl"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"subq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"and"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"or"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"xor"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"adc"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"sbb"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmp"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"no_jmp"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment"># No Jump is just a compare</span></span>
<span class="line">			<span class="token string">"cmpq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"inc"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"dec"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"neg"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"not"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"div"</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"idiv"</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jmp"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jmpq"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jns"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"call"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jne"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jge"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"je"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jl"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jb"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jbe"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"js"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"ja"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"jg"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"retn"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"retq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"retf"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"ret"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"bnd"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"loop"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"wait"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"callq"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmpl"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmpxchg"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmpb"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"lea"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"endbr64"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"orq"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"testq"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"testb"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"testl"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"move"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmove"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movzwl"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movzbl"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movzx"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movsx"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"lds"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"les"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"lfs"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"lgs"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"lss"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"nop"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"nopw"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"nopl"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"xchg"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"xlat"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pushf"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"popf"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pusha"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"popa"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pushad"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"popad"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"pushq"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"popq"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"mul"</span><span class="token punctuation">:</span> <span class="token number">11</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"imul"</span><span class="token punctuation">:</span> <span class="token number">11</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cbw"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cwde"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"shr"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"shl"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"sar"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"sal"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"wait"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"leave"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"leaveq"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"punpcklqdq"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"set"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"setne"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"setcc"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmova"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmov"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"cmovcc"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"syscall"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"movups"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string">"orl"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">getCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> command<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token keyword">if</span> command <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>cycleHash<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Unknown Command </span><span class="token interpolation"><span class="token punctuation">{</span>command<span class="token punctuation">}</span></span><span class="token string">, big oopsie"</span></span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">return</span> <span class="token number">0</span></span>
<span class="line">		<span class="token keyword">return</span> self<span class="token punctuation">.</span>cycleHash<span class="token punctuation">[</span>command<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">inst</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		self<span class="token punctuation">.</span>instructions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">		self<span class="token punctuation">.</span>debugger <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">		self<span class="token punctuation">.</span>cycleInstructions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">		self<span class="token punctuation">.</span>numOperations <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">		self<span class="token punctuation">.</span>totalCycles <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">		self<span class="token punctuation">.</span>totalLines <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">		self<span class="token punctuation">.</span>jmpInQuestion <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line">		self<span class="token punctuation">.</span>lastJmpLocation <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">		self<span class="token punctuation">.</span>typeOfJmp <span class="token operator">=</span> <span class="token string">"jmp"</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token keyword">if</span> line <span class="token operator">!=</span> <span class="token string">'\n'</span><span class="token punctuation">:</span></span>
<span class="line">			self<span class="token punctuation">.</span>debugger<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">)</span></span>
<span class="line">			lineParts <span class="token operator">=</span> line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>lineParts<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">5</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token keyword">if</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">:</span></span>
<span class="line">						self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">				<span class="token keyword">if</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jg"</span> <span class="token keyword">or</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jge"</span> <span class="token keyword">or</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jg"</span> <span class="token keyword">or</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jle"</span> <span class="token keyword">or</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jne"</span> <span class="token keyword">or</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"jl"</span><span class="token punctuation">:</span></span>
<span class="line">					self<span class="token punctuation">.</span>jmpInQuestion <span class="token operator">=</span> <span class="token boolean">True</span></span>
<span class="line">					self<span class="token punctuation">.</span>lastJmpLocation <span class="token operator">=</span> lineParts<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span></span>
<span class="line">					self<span class="token punctuation">.</span>typeOfJmp <span class="token operator">=</span> lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">					<span class="token keyword">return</span></span>
<span class="line">				<span class="token keyword">if</span> self<span class="token punctuation">.</span>jmpInQuestion <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">					<span class="token keyword">if</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span>c <span class="token keyword">for</span> c <span class="token keyword">in</span> lineParts<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">if</span> c <span class="token operator">!=</span> <span class="token string">':'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>lastJmpLocation<span class="token punctuation">:</span></span>
<span class="line">						self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>self<span class="token punctuation">.</span>typeOfJmp<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">						self<span class="token punctuation">.</span>jmpInQuestion <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line">					<span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">						<span class="token keyword">if</span> <span class="token string">"no_jmp"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">:</span></span>
<span class="line">							self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span><span class="token string">"no_jmp"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">						self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span><span class="token string">"no_jmp"</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">						self<span class="token punctuation">.</span>jmpInQuestion <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line">				self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>lineParts<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">				self<span class="token punctuation">.</span>numOperations <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">			<span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token keyword">if</span> lineParts<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>lineParts<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">:</span></span>
<span class="line">					self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>lineParts<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>lineParts<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">				self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>lineParts<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>lineParts<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">printDebug</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Wow you printed </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>instructions<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">def</span> <span class="token function">analyzeTraces</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> trace_file<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">		hasher <span class="token operator">=</span> clockCycles<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">for</span> oneInst <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">			curCycle <span class="token operator">=</span> hasher<span class="token punctuation">.</span>getCycle<span class="token punctuation">(</span>oneInst<span class="token punctuation">)</span></span>
<span class="line">			self<span class="token punctuation">.</span>totalCycles <span class="token operator">+=</span> curCycle <span class="token operator">*</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span></span>
<span class="line">			self<span class="token punctuation">.</span>cycleInstructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span> <span class="token operator">=</span> curCycle <span class="token operator">*</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span></span>
<span class="line">			self<span class="token punctuation">.</span>totalLines <span class="token operator">+=</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*********************"</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Statistics for </span><span class="token interpolation"><span class="token punctuation">{</span>trace_file<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Clock Cycles: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>totalCycles<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Number of lines exec: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>totalLines<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Number of different asm operations: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>instructions<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		cpi <span class="token operator">=</span> self<span class="token punctuation">.</span>totalCycles <span class="token operator">/</span> self<span class="token punctuation">.</span>totalLines <span class="token keyword">if</span> self<span class="token punctuation">.</span>totalLines <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">0</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Cycles Per Instruction: </span><span class="token interpolation"><span class="token punctuation">{</span>cpi<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Breakdown of each instruction:"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Instruction | Number of times | Cycles"</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">for</span> oneInst <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>oneInst<span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>instructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>cycleInstructions<span class="token punctuation">[</span>oneInst<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*********************"</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token string">"no_jmp"</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>instructions<span class="token punctuation">:</span></span>
<span class="line">			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Note: In the above table, if a jmp with compare was made (e.g., jge), but that jmp did not occur, we denote it as no_jmp with 2 clock cycles (Source: Agner Fog)"</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*********************"</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>curInst<span class="token punctuation">,</span> trace_files<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token keyword">for</span> trace <span class="token keyword">in</span> trace_files<span class="token punctuation">:</span></span>
<span class="line">		<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>trace<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line">			<span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span></span>
<span class="line">				curInst<span class="token punctuation">.</span>add<span class="token punctuation">(</span>line<span class="token punctuation">)</span></span>
<span class="line">		curInst<span class="token punctuation">.</span>analyzeTraces<span class="token punctuation">(</span>trace<span class="token punctuation">)</span></span>
<span class="line">		curInst <span class="token operator">=</span> inst<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Usage: python3 analyzer &lt;TRACE FILES>"</span><span class="token punctuation">)</span></span>
<span class="line">		sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">	curInst <span class="token operator">=</span> inst<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	trace_files <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line">	main<span class="token punctuation">(</span>curInst<span class="token punctuation">,</span> trace_files<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(Clock cycle data taken from IA32 and IA64 reference manual for a Intel Pentium Processor).</p>
<p>Assuming your trace file is named trace.py</p>
<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre v-pre><code><span class="line">$ python3 analyzer trace.py</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>The analyzer can also analyze multiple trace files (if the above script was used to analyze multiple programs, source code, etc.)</p>
</div></template>


